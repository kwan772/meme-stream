(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,c){},13:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),o=c(4),i=c.n(o),l=(c(9),c(2)),a=(c(10),c.p+"static/media/memeBGM.4ff86e69.mp3"),s=(c(11),c.p,c(1));var u=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],r=t[1],o=Object(n.useState)(0),i=Object(l.a)(o,2),u=i[0],h=i[1],p=Object(n.useState)(u+1),f=Object(l.a)(p,2),g=f[0],m=f[1],j=Object(n.useState)(15),d=Object(l.a)(j,2),b=d[0],O=d[1],x=Object(n.useState)(!0),k=Object(l.a)(x,2),v=k[0],S=k[1],T=Object(n.useState)(),I=Object(l.a)(T,2),y=I[0],B=I[1],C=6048e5,E=6e5,N=Object(n.useState)(!1),F=Object(l.a)(N,2),w=F[0],G=F[1],H=Object(n.useState)(new Audio(a)),M=Object(l.a)(H,2),U=M[0];function A(e){for(var t,c=e.length;0!=c;){t=Math.floor(Math.random()*c),c--;var n=[e[t],e[c]];e[c]=n[0],e[t]=n[1]}return e}M[1],Object(n.useEffect)((function(){D()}),[]),Object(n.useEffect)((function(){setTimeout((function(){if(0!==b)O(b-1);else{if(v)if(S(!1),y>g+1)for(h(g+1);!c[u].media&&""===c[u].media;)h(g+1);else r(A(c)),h(0);else if(S(!0),y>u+1)for(m(u+1);!c[g].media&&""===c[g].media;)h(g+1);else r(A(c)),m(0);O(15)}}),1e3)}),[b]),Object(n.useEffect)((function(){console.log(c)}),[c]);var D=function(){fetch("/members").then((function(e){return e.json()})).then((function(e){B(Object.keys(e.title).length);for(var t=[],c=0;c<Object.keys(e.title).length;c++)t.push({media:e.media[c],score:e.score[c],title:e.title[c]});r(A(t)),t.length>0&&fetch("/checkImage?src="+t[u].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(h(u+1),m(u+2),console.log("skipped"))})),t.length>0&&fetch("/checkImage?src="+t[g].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(m(g+1),console.log("skipped"))}))}))},J=function(){fetch("/updateMeme")};return Object(n.useEffect)((function(){var e,t=(new Date).getTime(),c=(new Date).setHours(22,9,0);e=t<c?c-t:c+C-t,console.log(e),setTimeout((function(){J(),setTimeout((function(){D()}),E),setInterval((function(){J(),setTimeout((function(){D()}),E)}),C)}),e)}),[]),Object(n.useEffect)((function(){c.length>0&&fetch("/checkImage?src="+c[u].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(y>u+2?(h(u+1),m(u+2),console.log("skipped")):(r(A(c)),h(0)))}))}),[u]),Object(n.useEffect)((function(){c.length>0&&fetch("/checkImage?src="+c[g].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(y>g+2?(m(g+1),h(g+2),console.log("skipped")):(r(A(c)),m(0)))}))}),[g]),Object(s.jsxs)("div",{className:"App",children:[Object(s.jsxs)("header",{className:"App-header",children:[c[u+1]?Object(s.jsxs)("div",{style:{height:"950px"},children:[Object(s.jsxs)("div",{style:v?{height:"950px"}:{height:"950px",display:"none"},children:[Object(s.jsx)("h3",{children:c[u].title.replace("fuck","****").replace("shit","****").replace("Bitch","*****").replace("Fuck","****").replace("Shit","****").replace("Bitch","*****").replace("FUCK","****").replace("SHIT","****").replace("BITCH","*****").replace("cunt","****").replace("CUNT","****").replace("Cunt","****").replace("nigger","*****").replace("NIGGER","*****").replace("Nigger","******")}),Object(s.jsx)("div",{className:"memeBox",children:Object(s.jsx)("img",{alt:"current meme",src:c[u].media,onError:function(e){y>u+1?(u>g&&h(u+1),console.log(c[u].media),console.log("error img"),e.target.onerror=null,e.target.src=c[u].media):(r(A(c)),h(0),console.log("error img"),e.target.onerror=null,e.target.src=c[u].media)}})})]}),Object(s.jsxs)("div",{style:v?{height:"950px",display:"none"}:{height:"950px"},children:[Object(s.jsx)("h3",{children:c[g].title.replace("fuck","****").replace("shit","****").replace("Bitch","*****").replace("Fuck","****").replace("Shit","****").replace("Bitch","*****").replace("FUCK","****").replace("SHIT","****").replace("BITCH","*****").replace("cunt","****").replace("CUNT","****").replace("Cunt","****").replace("nigger","*****").replace("NIGGER","*****").replace("Nigger","******")}),Object(s.jsx)("div",{className:"memeBox",children:Object(s.jsx)("img",{alt:"next meme",src:c[g].media,onError:function(e){y>g+1?(m(g+1),console.log(c[g].media),console.log("error img"),e.target.onerror=null,e.target.src=c[g].media):(r(A(c)),m(0),console.log("error img"),e.target.onerror=null,e.target.src=c[g].media)}})})]})]}):null,Object(s.jsx)("span",{className:"timer",children:b})]}),Object(s.jsx)("button",{onClick:function(){w?(G(!1),U.pause()):(G(!0),U.play(),U.loop=!0)},style:{marginTop:1e3},children:"Boop!"})]})},h=function(e){e&&e instanceof Function&&c.e(4).then(c.bind(null,16)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),o(e),i(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(u,{})}),document.getElementById("root")),h()},9:function(e,t,c){}},[[13,1,2]]]);
//# sourceMappingURL=main.68e1e042.chunk.js.map